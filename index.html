<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quote Generator</title>

<style>
body {
  background:#111;
  color:#fff;
  font-family:Arial, sans-serif;
  margin:0;
  text-align:center;
}

.container {
  max-width:650px;
  margin:auto;
  padding:20px;
}

h1 {
  font-size:28px;
}

select, button {
  width:100%;
  padding:14px;
  margin-top:15px;
  font-size:18px;
  border-radius:10px;
  border:none;
}

select {
  background:#222;
  color:#fff;
}

button {
  background:#ffca28;
  color:#000;
  font-weight:bold;
  cursor:pointer;
}

button:disabled {
  background:#888;
  cursor:not-allowed;
}

.quote-box {
  background:#1f1f1f;
  padding:25px;
  border-radius:12px;
  margin-top:25px;
  min-height:120px;
  font-size:20px;
}

.lock-box {
  display:none;
  margin-top:20px;
  background:#222;
  padding:15px;
  border-radius:12px;
}

.banner-holder {
  margin-top:25px;
}
</style>
</head>

<body>

<div class="container">
  <h1>Quote Generator</h1>

  <select id="category">
    <option value="random">Random (All Quotes)</option>
    <option value="motivation">Motivation</option>
    <option value="love">Love</option>
    <option value="success">Success</option>
    <option value="life">Life</option>
    <option value="confidence">Confidence</option>
  </select>

  <button onclick="handleQuote()">Next Quote</button>

  <div class="quote-box" id="quoteBox">
    Tap "Next Quote" to begin
  </div>

  <div class="lock-box" id="lockBox">
    <p id="rewardText">‚è≥ Loading ad‚Ä¶</p>
    <button id="rewardBtn" onclick="showRewardAd()" disabled>
      Watch Ad to Unlock
    </button>
  </div>

  <div class="banner-holder"></div>
</div>

<script>
/* -------------------------
   QUOTES DATA
-------------------------- */
const QUOTES = {
  motivation: [], love: [], success: [], life: [], confidence: []
};

const bases = [
  "Believe in yourself",
  "Success starts with discipline",
  "Never give up",
  "Your future depends on your actions today",
  "Great things take time",
  "Confidence changes everything",
  "Dream big and act bigger",
  "Small steps lead to big wins",
  "Focus creates reality",
  "Consistency beats talent"
];

Object.keys(QUOTES).forEach(cat => {
  for (let i = 1; i <= 200; i++) {
    const base = bases[Math.floor(Math.random() * bases.length)];
    QUOTES[cat].push(`${base}. (${cat.toUpperCase()} #${i})`);
  }
});

/* -------------------------
   AD + REWARD SYSTEM
-------------------------- */
let quoteCount = 0;
const FREE_LIMIT = 5;
let rewardReady = false;

/* üîπ LOAD ADS ON START */
document.addEventListener("DOMContentLoaded", () => {
  if (typeof showBannerAd === "function") showBannerAd();
  preloadReward();
});

/* üîπ PRELOAD WITH RETRY */
function preloadReward() {
  rewardReady = false;
  document.getElementById("rewardBtn").disabled = true;
  document.getElementById("rewardText").innerText = "‚è≥ Loading ad‚Ä¶";

  if (typeof loadRewardedAd === "function") {
    loadRewardedAd();
  }

  // Safety timeout (networks can be slow)
  setTimeout(() => {
    rewardReady = true;
    document.getElementById("rewardBtn").disabled = false;
    document.getElementById("rewardText").innerText = "üéÅ Watch ad to unlock quotes";
  }, 8000);
}

/* -------------------------
   MAIN LOGIC
-------------------------- */
function handleQuote() {
  if (quoteCount >= FREE_LIMIT) {
    document.getElementById("lockBox").style.display = "block";
    return;
  }

  nextQuote();
  quoteCount++;

  if (quoteCount % 3 === 0 && typeof showInterstitialAd === "function") {
    showInterstitialAd();
  }
}

function nextQuote() {
  const cat = document.getElementById("category").value;
  let list = [];

  if (cat === "random") {
    Object.values(QUOTES).forEach(arr => list = list.concat(arr));
  } else {
    list = QUOTES[cat];
  }

  document.getElementById("quoteBox").innerText =
    list[Math.floor(Math.random() * list.length)];
}

/* -------------------------
   REWARDED AD
-------------------------- */
function showRewardAd() {
  if (!rewardReady) return;

  if (typeof showRewardedAd === "function") {
    showRewardedAd();
  }
}

/* ‚úÖ OFFICIAL AP CREATOR CALLBACK */
function onRewardedAdCompleted() {
  quoteCount = 0;
  document.getElementById("lockBox").style.display = "none";
  preloadReward();
  alert("üéâ Reward unlocked! Enjoy more quotes.");
}
</script>

</body>
</html>
